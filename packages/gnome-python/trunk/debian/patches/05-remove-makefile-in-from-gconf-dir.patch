Index: gnome-python-maemo/gconf/Makefile.in
===================================================================
--- gnome-python-maemo.orig/gconf/Makefile.in	2007-03-28 09:40:18.000000000 -0300
+++ /dev/null	1970-01-01 00:00:00.000000000 +0000
@@ -1,654 +0,0 @@
-# Makefile.in generated by automake 1.9.6 from Makefile.am.
-# @configure_input@
-
-# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005  Free Software Foundation, Inc.
-# This Makefile.in is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
-# PARTICULAR PURPOSE.
-
-@SET_MAKE@
-
-
-srcdir = @srcdir@
-top_srcdir = @top_srcdir@
-VPATH = @srcdir@
-pkgdatadir = $(datadir)/@PACKAGE@
-pkglibdir = $(libdir)/@PACKAGE@
-pkgincludedir = $(includedir)/@PACKAGE@
-top_builddir = ..
-am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
-INSTALL = @INSTALL@
-install_sh_DATA = $(install_sh) -c -m 644
-install_sh_PROGRAM = $(install_sh) -c
-install_sh_SCRIPT = $(install_sh) -c
-INSTALL_HEADER = $(INSTALL_DATA)
-transform = $(program_transform_name)
-NORMAL_INSTALL = :
-PRE_INSTALL = :
-POST_INSTALL = :
-NORMAL_UNINSTALL = :
-PRE_UNINSTALL = :
-POST_UNINSTALL = :
-build_triplet = @build@
-host_triplet = @host@
-subdir = gconf
-DIST_COMMON = $(argtypes_PYTHON) $(srcdir)/Makefile.am \
-	$(srcdir)/Makefile.in
-ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
-am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \
-	$(top_srcdir)/configure.ac
-am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
-	$(ACLOCAL_M4)
-mkinstalldirs = $(install_sh) -d
-CONFIG_HEADER = $(top_builddir)/config.h
-CONFIG_CLEAN_FILES =
-am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
-am__vpath_adj = case $$p in \
-    $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
-    *) f=$$p;; \
-  esac;
-am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
-am__installdirs = "$(DESTDIR)$(pkgpyexecdir)" \
-	"$(DESTDIR)$(argtypesdir)" "$(DESTDIR)$(defsdir)"
-pkgpyexecLTLIBRARIES_INSTALL = $(INSTALL)
-LTLIBRARIES = $(pkgpyexec_LTLIBRARIES)
-am__DEPENDENCIES_1 =
-gconf_la_DEPENDENCIES = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
-am_gconf_la_OBJECTS = gconf_la-gconfmodule.lo gconf_la-gconf-fixes.lo \
-	gconf_la-gconf-types.lo
-nodist_gconf_la_OBJECTS = gconf_la-gconf.lo
-gconf_la_OBJECTS = $(am_gconf_la_OBJECTS) $(nodist_gconf_la_OBJECTS)
-DEFAULT_INCLUDES = -I. -I$(srcdir) -I$(top_builddir)
-depcomp = $(SHELL) $(top_srcdir)/depcomp
-am__depfiles_maybe = depfiles
-COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
-	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
-CCLD = $(CC)
-LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-SOURCES = $(gconf_la_SOURCES) $(nodist_gconf_la_SOURCES)
-DIST_SOURCES = $(gconf_la_SOURCES)
-argtypesPYTHON_INSTALL = $(INSTALL_DATA)
-py_compile = $(top_srcdir)/py-compile
-defsDATA_INSTALL = $(INSTALL_DATA)
-DATA = $(defs_DATA)
-ETAGS = etags
-CTAGS = ctags
-DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
-ACLOCAL = @ACLOCAL@
-ACLOCAL_AMFLAGS = @ACLOCAL_AMFLAGS@
-AMDEP_FALSE = @AMDEP_FALSE@
-AMDEP_TRUE = @AMDEP_TRUE@
-AMTAR = @AMTAR@
-AR = @AR@
-AUTOCONF = @AUTOCONF@
-AUTOHEADER = @AUTOHEADER@
-AUTOMAKE = @AUTOMAKE@
-AWK = @AWK@
-BONOBOUI_CFLAGS = @BONOBOUI_CFLAGS@
-BONOBOUI_LIBS = @BONOBOUI_LIBS@
-BONOBO_ACTIVATION_CFLAGS = @BONOBO_ACTIVATION_CFLAGS@
-BONOBO_ACTIVATION_LIBS = @BONOBO_ACTIVATION_LIBS@
-BONOBO_ACTIVATION_VERSION = @BONOBO_ACTIVATION_VERSION@
-BONOBO_CFLAGS = @BONOBO_CFLAGS@
-BONOBO_LIBS = @BONOBO_LIBS@
-BUILD_BONOBOUI_FALSE = @BUILD_BONOBOUI_FALSE@
-BUILD_BONOBOUI_TRUE = @BUILD_BONOBOUI_TRUE@
-BUILD_BONOBO_ACTIVATION_FALSE = @BUILD_BONOBO_ACTIVATION_FALSE@
-BUILD_BONOBO_ACTIVATION_TRUE = @BUILD_BONOBO_ACTIVATION_TRUE@
-BUILD_BONOBO_FALSE = @BUILD_BONOBO_FALSE@
-BUILD_BONOBO_TRUE = @BUILD_BONOBO_TRUE@
-BUILD_GCONF_FALSE = @BUILD_GCONF_FALSE@
-BUILD_GCONF_TRUE = @BUILD_GCONF_TRUE@
-BUILD_GNOMECANVAS_FALSE = @BUILD_GNOMECANVAS_FALSE@
-BUILD_GNOMECANVAS_TRUE = @BUILD_GNOMECANVAS_TRUE@
-BUILD_GNOMEUI_FALSE = @BUILD_GNOMEUI_FALSE@
-BUILD_GNOMEUI_TRUE = @BUILD_GNOMEUI_TRUE@
-BUILD_GNOMEVFSBONOBO_FALSE = @BUILD_GNOMEVFSBONOBO_FALSE@
-BUILD_GNOMEVFSBONOBO_TRUE = @BUILD_GNOMEVFSBONOBO_TRUE@
-BUILD_GNOMEVFS_FALSE = @BUILD_GNOMEVFS_FALSE@
-BUILD_GNOMEVFS_TRUE = @BUILD_GNOMEVFS_TRUE@
-BUILD_PYVFSMODULE_FALSE = @BUILD_PYVFSMODULE_FALSE@
-BUILD_PYVFSMODULE_TRUE = @BUILD_PYVFSMODULE_TRUE@
-CC = @CC@
-CCDEPMODE = @CCDEPMODE@
-CFLAGS = @CFLAGS@
-CPP = @CPP@
-CPPFLAGS = @CPPFLAGS@
-CXX = @CXX@
-CXXCPP = @CXXCPP@
-CXXDEPMODE = @CXXDEPMODE@
-CXXFLAGS = @CXXFLAGS@
-CYGPATH_W = @CYGPATH_W@
-DEFS = @DEFS@
-DEPDIR = @DEPDIR@
-ECHO = @ECHO@
-ECHO_C = @ECHO_C@
-ECHO_N = @ECHO_N@
-ECHO_T = @ECHO_T@
-EGREP = @EGREP@
-EXEEXT = @EXEEXT@
-F77 = @F77@
-FFLAGS = @FFLAGS@
-GCONF_CFLAGS = @GCONF_CFLAGS@
-GCONF_INCLUDEDIR = @GCONF_INCLUDEDIR@
-GCONF_LIBS = @GCONF_LIBS@
-GCONF_VERSION = @GCONF_VERSION@
-GLIB_CFLAGS = @GLIB_CFLAGS@
-GLIB_GENMARSHAL = @GLIB_GENMARSHAL@
-GLIB_LIBS = @GLIB_LIBS@
-GLIB_MKENUMS = @GLIB_MKENUMS@
-GLIB_VERSION = @GLIB_VERSION@
-GNOMECANVAS_CFLAGS = @GNOMECANVAS_CFLAGS@
-GNOMECANVAS_LIBS = @GNOMECANVAS_LIBS@
-GNOMEUI_CFLAGS = @GNOMEUI_CFLAGS@
-GNOMEUI_LIBS = @GNOMEUI_LIBS@
-GNOMEVFSBONOBO_CFLAGS = @GNOMEVFSBONOBO_CFLAGS@
-GNOMEVFSBONOBO_LIBS = @GNOMEVFSBONOBO_LIBS@
-GNOMEVFS_CFLAGS = @GNOMEVFS_CFLAGS@
-GNOMEVFS_LIBS = @GNOMEVFS_LIBS@
-GNOME_CFLAGS = @GNOME_CFLAGS@
-GNOME_LIBS = @GNOME_LIBS@
-GNOME_VFS_MODULE_CFLAGS = @GNOME_VFS_MODULE_CFLAGS@
-GNOME_VFS_MODULE_LIBS = @GNOME_VFS_MODULE_LIBS@
-GOBJECT_QUERY = @GOBJECT_QUERY@
-GREP = @GREP@
-GTK_CFLAGS = @GTK_CFLAGS@
-GTK_LIBS = @GTK_LIBS@
-GTK_VERSION = @GTK_VERSION@
-INSTALL_DATA = @INSTALL_DATA@
-INSTALL_PROGRAM = @INSTALL_PROGRAM@
-INSTALL_SCRIPT = @INSTALL_SCRIPT@
-INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
-LDFLAGS = @LDFLAGS@
-LIBBONOBOUI_VERSION = @LIBBONOBOUI_VERSION@
-LIBBONOBO_VERSION = @LIBBONOBO_VERSION@
-LIBGNOMECANVAS_VERSION = @LIBGNOMECANVAS_VERSION@
-LIBGNOMEVFS_VERSION = @LIBGNOMEVFS_VERSION@
-LIBGNOME_VERSION = @LIBGNOME_VERSION@
-LIBOBJS = @LIBOBJS@
-LIBS = @LIBS@
-LIBTOOL = @LIBTOOL@
-LN_S = @LN_S@
-LTLIBOBJS = @LTLIBOBJS@
-MAKEINFO = @MAKEINFO@
-OBJEXT = @OBJEXT@
-PACKAGE = @PACKAGE@
-PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
-PACKAGE_NAME = @PACKAGE_NAME@
-PACKAGE_STRING = @PACKAGE_STRING@
-PACKAGE_TARNAME = @PACKAGE_TARNAME@
-PACKAGE_VERSION = @PACKAGE_VERSION@
-PATH_SEPARATOR = @PATH_SEPARATOR@
-PKG_CONFIG = @PKG_CONFIG@
-PYGTK_CFLAGS = @PYGTK_CFLAGS@
-PYGTK_CODEGEN = @PYGTK_CODEGEN@
-PYGTK_DEFSDIR = @PYGTK_DEFSDIR@
-PYGTK_LIBS = @PYGTK_LIBS@
-PYGTK_VERSION = @PYGTK_VERSION@
-PYORBIT_CFLAGS = @PYORBIT_CFLAGS@
-PYORBIT_LIBS = @PYORBIT_LIBS@
-PYORBIT_VERSION = @PYORBIT_VERSION@
-PYTHON = @PYTHON@
-PYTHON_CC = @PYTHON_CC@
-PYTHON_EMBED_LIBS = @PYTHON_EMBED_LIBS@
-PYTHON_EXEC_PREFIX = @PYTHON_EXEC_PREFIX@
-PYTHON_INCLUDES = @PYTHON_INCLUDES@
-PYTHON_LDFLAGS = @PYTHON_LDFLAGS@
-PYTHON_LIBS = @PYTHON_LIBS@
-PYTHON_PLATFORM = @PYTHON_PLATFORM@
-PYTHON_PREFIX = @PYTHON_PREFIX@
-PYTHON_VERSION = @PYTHON_VERSION@
-RANLIB = @RANLIB@
-SET_MAKE = @SET_MAKE@
-SHELL = @SHELL@
-STRIP = @STRIP@
-VERSION = @VERSION@
-ac_ct_CC = @ac_ct_CC@
-ac_ct_CXX = @ac_ct_CXX@
-ac_ct_F77 = @ac_ct_F77@
-am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
-am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
-am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
-am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
-am__include = @am__include@
-am__leading_dot = @am__leading_dot@
-am__quote = @am__quote@
-am__tar = @am__tar@
-am__untar = @am__untar@
-bindir = @bindir@
-build = @build@
-build_alias = @build_alias@
-build_cpu = @build_cpu@
-build_os = @build_os@
-build_vendor = @build_vendor@
-datadir = @datadir@
-datarootdir = @datarootdir@
-docdir = @docdir@
-dvidir = @dvidir@
-exec_prefix = @exec_prefix@
-host = @host@
-host_alias = @host_alias@
-host_cpu = @host_cpu@
-host_os = @host_os@
-host_vendor = @host_vendor@
-htmldir = @htmldir@
-includedir = @includedir@
-infodir = @infodir@
-install_sh = @install_sh@
-libdir = @libdir@
-libexecdir = @libexecdir@
-localedir = @localedir@
-localstatedir = @localstatedir@
-mandir = @mandir@
-mkdir_p = @mkdir_p@
-oldincludedir = @oldincludedir@
-pdfdir = @pdfdir@
-pkgpyexecdir = $(pyexecdir)/gtk-2.0
-pkgpythondir = $(pyexecdir)/gtk-2.0
-prefix = @prefix@
-program_transform_name = @program_transform_name@
-psdir = @psdir@
-pyexecdir = @pyexecdir@
-pythondir = @pythondir@
-sbindir = @sbindir@
-sharedstatedir = @sharedstatedir@
-sysconfdir = @sysconfdir@
-target_alias = @target_alias@
-INCLUDES = $(PYTHON_INCLUDES) $(PYGTK_CFLAGS)
-defsdir = $(datadir)/pygtk/2.0/defs
-defs_DATA = gconf.defs
-common_ldflags = -module -avoid-version $(PYTHON_LDFLAGS)
-
-# gconf binding
-pkgpyexec_LTLIBRARIES = gconf.la
-gconf_la_CFLAGS = $(GCONF_CFLAGS)
-gconf_la_LDFLAGS = $(common_ldflags) -export-symbols-regex initgconf
-gconf_la_LIBADD = $(GCONF_LIBS) $(PYTHON_LIBS)
-gconf_la_SOURCES = \
-	gconfmodule.c \
-	gconf-fixes.c \
-	gconf-fixes.h \
-	gconf-types.c \
-	gconf-types.h
-
-nodist_gconf_la_SOURCES = gconf.c
-CLEANFILES = gconf.c
-EXTRA_DIST = gconf.defs gconf.override  
-argtypesdir = $(datadir)/pygtk/2.0/argtypes
-argtypes_PYTHON = gconf-arg-types.py
-all: all-am
-
-.SUFFIXES:
-.SUFFIXES: .c .defs .lo .o .obj
-$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
-	@for dep in $?; do \
-	  case '$(am__configure_deps)' in \
-	    *$$dep*) \
-	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
-		&& exit 0; \
-	      exit 1;; \
-	  esac; \
-	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  gconf/Makefile'; \
-	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --gnu  gconf/Makefile
-.PRECIOUS: Makefile
-Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
-	@case '$?' in \
-	  *config.status*) \
-	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
-	  *) \
-	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
-	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
-	esac;
-
-$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
-	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
-
-$(top_srcdir)/configure:  $(am__configure_deps)
-	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
-$(ACLOCAL_M4):  $(am__aclocal_m4_deps)
-	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
-install-pkgpyexecLTLIBRARIES: $(pkgpyexec_LTLIBRARIES)
-	@$(NORMAL_INSTALL)
-	test -z "$(pkgpyexecdir)" || $(mkdir_p) "$(DESTDIR)$(pkgpyexecdir)"
-	@list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
-	  if test -f $$p; then \
-	    f=$(am__strip_dir) \
-	    echo " $(LIBTOOL) --mode=install $(pkgpyexecLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(pkgpyexecdir)/$$f'"; \
-	    $(LIBTOOL) --mode=install $(pkgpyexecLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(pkgpyexecdir)/$$f"; \
-	  else :; fi; \
-	done
-
-uninstall-pkgpyexecLTLIBRARIES:
-	@$(NORMAL_UNINSTALL)
-	@set -x; list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
-	  p=$(am__strip_dir) \
-	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(pkgpyexecdir)/$$p'"; \
-	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(pkgpyexecdir)/$$p"; \
-	done
-
-clean-pkgpyexecLTLIBRARIES:
-	-test -z "$(pkgpyexec_LTLIBRARIES)" || rm -f $(pkgpyexec_LTLIBRARIES)
-	@list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
-	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
-	  test "$$dir" != "$$p" || dir=.; \
-	  echo "rm -f \"$${dir}/so_locations\""; \
-	  rm -f "$${dir}/so_locations"; \
-	done
-gconf.la: $(gconf_la_OBJECTS) $(gconf_la_DEPENDENCIES) 
-	$(LINK) -rpath $(pkgpyexecdir) $(gconf_la_LDFLAGS) $(gconf_la_OBJECTS) $(gconf_la_LIBADD) $(LIBS)
-
-mostlyclean-compile:
-	-rm -f *.$(OBJEXT)
-
-distclean-compile:
-	-rm -f *.tab.c
-
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gconf_la-gconf-fixes.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gconf_la-gconf-types.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gconf_la-gconf.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gconf_la-gconfmodule.Plo@am__quote@
-
-.c.o:
-@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(COMPILE) -c $<
-
-.c.obj:
-@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ `$(CYGPATH_W) '$<'`; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(COMPILE) -c `$(CYGPATH_W) '$<'`
-
-.c.lo:
-@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
-
-gconf_la-gconfmodule.lo: gconfmodule.c
-@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -MT gconf_la-gconfmodule.lo -MD -MP -MF "$(DEPDIR)/gconf_la-gconfmodule.Tpo" -c -o gconf_la-gconfmodule.lo `test -f 'gconfmodule.c' || echo '$(srcdir)/'`gconfmodule.c; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/gconf_la-gconfmodule.Tpo" "$(DEPDIR)/gconf_la-gconfmodule.Plo"; else rm -f "$(DEPDIR)/gconf_la-gconfmodule.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='gconfmodule.c' object='gconf_la-gconfmodule.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -c -o gconf_la-gconfmodule.lo `test -f 'gconfmodule.c' || echo '$(srcdir)/'`gconfmodule.c
-
-gconf_la-gconf-fixes.lo: gconf-fixes.c
-@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -MT gconf_la-gconf-fixes.lo -MD -MP -MF "$(DEPDIR)/gconf_la-gconf-fixes.Tpo" -c -o gconf_la-gconf-fixes.lo `test -f 'gconf-fixes.c' || echo '$(srcdir)/'`gconf-fixes.c; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/gconf_la-gconf-fixes.Tpo" "$(DEPDIR)/gconf_la-gconf-fixes.Plo"; else rm -f "$(DEPDIR)/gconf_la-gconf-fixes.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='gconf-fixes.c' object='gconf_la-gconf-fixes.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -c -o gconf_la-gconf-fixes.lo `test -f 'gconf-fixes.c' || echo '$(srcdir)/'`gconf-fixes.c
-
-gconf_la-gconf-types.lo: gconf-types.c
-@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -MT gconf_la-gconf-types.lo -MD -MP -MF "$(DEPDIR)/gconf_la-gconf-types.Tpo" -c -o gconf_la-gconf-types.lo `test -f 'gconf-types.c' || echo '$(srcdir)/'`gconf-types.c; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/gconf_la-gconf-types.Tpo" "$(DEPDIR)/gconf_la-gconf-types.Plo"; else rm -f "$(DEPDIR)/gconf_la-gconf-types.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='gconf-types.c' object='gconf_la-gconf-types.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -c -o gconf_la-gconf-types.lo `test -f 'gconf-types.c' || echo '$(srcdir)/'`gconf-types.c
-
-gconf_la-gconf.lo: gconf.c
-@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -MT gconf_la-gconf.lo -MD -MP -MF "$(DEPDIR)/gconf_la-gconf.Tpo" -c -o gconf_la-gconf.lo `test -f 'gconf.c' || echo '$(srcdir)/'`gconf.c; \
-@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/gconf_la-gconf.Tpo" "$(DEPDIR)/gconf_la-gconf.Plo"; else rm -f "$(DEPDIR)/gconf_la-gconf.Tpo"; exit 1; fi
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='gconf.c' object='gconf_la-gconf.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(gconf_la_CFLAGS) $(CFLAGS) -c -o gconf_la-gconf.lo `test -f 'gconf.c' || echo '$(srcdir)/'`gconf.c
-
-mostlyclean-libtool:
-	-rm -f *.lo
-
-clean-libtool:
-	-rm -rf .libs _libs
-
-distclean-libtool:
-	-rm -f libtool
-uninstall-info-am:
-install-argtypesPYTHON: $(argtypes_PYTHON)
-	@$(NORMAL_INSTALL)
-	test -z "$(argtypesdir)" || $(mkdir_p) "$(DESTDIR)$(argtypesdir)"
-	@list='$(argtypes_PYTHON)'; dlist=''; for p in $$list; do\
-	  if test -f "$$p"; then b=; else b="$(srcdir)/"; fi; \
-	  if test -f $$b$$p; then \
-	    f=$(am__strip_dir) \
-	    dlist="$$dlist $$f"; \
-	    echo " $(argtypesPYTHON_INSTALL) '$$b$$p' '$(DESTDIR)$(argtypesdir)/$$f'"; \
-	    $(argtypesPYTHON_INSTALL) "$$b$$p" "$(DESTDIR)$(argtypesdir)/$$f"; \
-	  else :; fi; \
-	done; \
-	if test -n "$$dlist"; then \
-	  if test -z "$(DESTDIR)"; then \
-	    PYTHON=$(PYTHON) $(py_compile) --basedir "$(argtypesdir)" $$dlist; \
-	  else \
-	    PYTHON=$(PYTHON) $(py_compile) --destdir "$(DESTDIR)" --basedir "$(argtypesdir)" $$dlist; \
-	  fi; \
-	else :; fi
-
-uninstall-argtypesPYTHON:
-	@$(NORMAL_UNINSTALL)
-	@list='$(argtypes_PYTHON)'; dlist=''; for p in $$list; do\
-	  f=$(am__strip_dir) \
-	  rm -f "$(DESTDIR)$(argtypesdir)/$$f"; \
-	  rm -f "$(DESTDIR)$(argtypesdir)/$${f}c"; \
-	  rm -f "$(DESTDIR)$(argtypesdir)/$${f}o"; \
-	done
-install-defsDATA: $(defs_DATA)
-	@$(NORMAL_INSTALL)
-	test -z "$(defsdir)" || $(mkdir_p) "$(DESTDIR)$(defsdir)"
-	@list='$(defs_DATA)'; for p in $$list; do \
-	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
-	  f=$(am__strip_dir) \
-	  echo " $(defsDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(defsdir)/$$f'"; \
-	  $(defsDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(defsdir)/$$f"; \
-	done
-
-uninstall-defsDATA:
-	@$(NORMAL_UNINSTALL)
-	@list='$(defs_DATA)'; for p in $$list; do \
-	  f=$(am__strip_dir) \
-	  echo " rm -f '$(DESTDIR)$(defsdir)/$$f'"; \
-	  rm -f "$(DESTDIR)$(defsdir)/$$f"; \
-	done
-
-ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
-	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
-	unique=`for i in $$list; do \
-	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
-	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
-	mkid -fID $$unique
-tags: TAGS
-
-TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
-		$(TAGS_FILES) $(LISP)
-	tags=; \
-	here=`pwd`; \
-	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
-	unique=`for i in $$list; do \
-	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
-	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
-	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
-	  test -n "$$unique" || unique=$$empty_fix; \
-	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
-	    $$tags $$unique; \
-	fi
-ctags: CTAGS
-CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
-		$(TAGS_FILES) $(LISP)
-	tags=; \
-	here=`pwd`; \
-	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
-	unique=`for i in $$list; do \
-	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
-	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
-	test -z "$(CTAGS_ARGS)$$tags$$unique" \
-	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
-	     $$tags $$unique
-
-GTAGS:
-	here=`$(am__cd) $(top_builddir) && pwd` \
-	  && cd $(top_srcdir) \
-	  && gtags -i $(GTAGS_ARGS) $$here
-
-distclean-tags:
-	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
-
-distdir: $(DISTFILES)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
-	list='$(DISTFILES)'; for file in $$list; do \
-	  case $$file in \
-	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
-	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
-	  esac; \
-	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
-	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
-	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
-	    dir="/$$dir"; \
-	    $(mkdir_p) "$(distdir)$$dir"; \
-	  else \
-	    dir=''; \
-	  fi; \
-	  if test -d $$d/$$file; then \
-	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
-	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
-	    fi; \
-	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
-	  else \
-	    test -f $(distdir)/$$file \
-	    || cp -p $$d/$$file $(distdir)/$$file \
-	    || exit 1; \
-	  fi; \
-	done
-check-am: all-am
-check: check-am
-all-am: Makefile $(LTLIBRARIES) $(DATA)
-installdirs:
-	for dir in "$(DESTDIR)$(pkgpyexecdir)" "$(DESTDIR)$(argtypesdir)" "$(DESTDIR)$(defsdir)"; do \
-	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
-	done
-install: install-am
-install-exec: install-exec-am
-install-data: install-data-am
-uninstall: uninstall-am
-
-install-am: all-am
-	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
-
-installcheck: installcheck-am
-install-strip:
-	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
-	  install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
-	  `test -z '$(STRIP)' || \
-	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
-mostlyclean-generic:
-
-clean-generic:
-	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)
-
-distclean-generic:
-	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
-
-maintainer-clean-generic:
-	@echo "This command is intended for maintainers to use"
-	@echo "it deletes files that may require special tools to rebuild."
-clean: clean-am
-
-clean-am: clean-generic clean-libtool clean-pkgpyexecLTLIBRARIES \
-	mostlyclean-am
-
-distclean: distclean-am
-	-rm -rf ./$(DEPDIR)
-	-rm -f Makefile
-distclean-am: clean-am distclean-compile distclean-generic \
-	distclean-libtool distclean-tags
-
-dvi: dvi-am
-
-dvi-am:
-
-html: html-am
-
-info: info-am
-
-info-am:
-
-install-data-am: install-argtypesPYTHON install-defsDATA
-
-install-exec-am: install-pkgpyexecLTLIBRARIES
-
-install-info: install-info-am
-
-install-man:
-
-installcheck-am:
-
-maintainer-clean: maintainer-clean-am
-	-rm -rf ./$(DEPDIR)
-	-rm -f Makefile
-maintainer-clean-am: distclean-am maintainer-clean-generic
-
-mostlyclean: mostlyclean-am
-
-mostlyclean-am: mostlyclean-compile mostlyclean-generic \
-	mostlyclean-libtool
-
-pdf: pdf-am
-
-pdf-am:
-
-ps: ps-am
-
-ps-am:
-
-uninstall-am: uninstall-argtypesPYTHON uninstall-defsDATA \
-	uninstall-info-am uninstall-pkgpyexecLTLIBRARIES
-
-.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
-	clean-libtool clean-pkgpyexecLTLIBRARIES ctags distclean \
-	distclean-compile distclean-generic distclean-libtool \
-	distclean-tags distdir dvi dvi-am html html-am info info-am \
-	install install-am install-argtypesPYTHON install-data \
-	install-data-am install-defsDATA install-exec install-exec-am \
-	install-info install-info-am install-man \
-	install-pkgpyexecLTLIBRARIES install-strip installcheck \
-	installcheck-am installdirs maintainer-clean \
-	maintainer-clean-generic mostlyclean mostlyclean-compile \
-	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
-	tags uninstall uninstall-am uninstall-argtypesPYTHON \
-	uninstall-defsDATA uninstall-info-am \
-	uninstall-pkgpyexecLTLIBRARIES
-
-gconf.c: gconf.defs gconf.override gconf-arg-types.py
-
-.defs.c:
-	(cd $(srcdir) \
-	 && $(PYGTK_CODEGEN) \
-	    --py_ssize_t-clean \
-	    --load-types gconf-arg-types.py \
-	    --override $*.override \
-	    --prefix py$* $*.defs) > gen-$*.c \
-	&& cp gen-$*.c $*.c \
-	&& rm -f gen-$*.c
-# Tell versions [3.59,3.63) of GNU make to not export all variables.
-# Otherwise a system limit (for SysV at least) may be exceeded.
-.NOEXPORT:
Index: gnome-python-maemo/setup.py
===================================================================
--- gnome-python-maemo.orig/setup.py	2007-03-28 09:40:19.000000000 -0300
+++ gnome-python-maemo/setup.py	2007-03-28 09:40:26.000000000 -0300
@@ -1,354 +1,117 @@
-#!/usr/bin/env python
-#
-# setup.py - distutils configuration for pygtk
-#
-# TODO:
-# pygtk.spec(.in)
-# win32 testing
-# install *.pyc for codegen
-#
-"""Python Bindings for Gnome.
-
-TODO: Write a good long description"""
-
+from distutils.core import setup, Extension
 from distutils.command.build import build
-from distutils.core import setup
+import subprocess
 import os
 import sys
 
-sys.stderr.write('''-- WARNING --
-The distutils method (setup.py) of building gnome-python is not
-supported.  setup.py is *unmaintained* and therefore not up-to-date
-with the latest developments.  Use at your own risk.
--- 
-''')
-
-try:
-    import pygtk
-    pygtk.require('2.0')
-except (ImportError, AssertionError):
-    raise SystemExit, 'ERROR: Could not find a recent version of pygtk.'
-
-from dsextras import list_files, have_pkgconfig, GLOBAL_INC, GLOBAL_MACROS
-from dsextras import InstallLib, BuildExt, PkgConfigExtension
-from dsextras import Template, TemplateExtension, pkgc_version_check
-from dsextras import getoutput
-
-MAJOR_VERSION = 2
-MINOR_VERSION = 5
-MICRO_VERSION = 91
-
-VERSION = "%d.%d.%d" % (MAJOR_VERSION,
-                        MINOR_VERSION,
-                        MICRO_VERSION)
-
-PYGTK_REQUIRED_VERSION              = '2.0.0'
-PYORBIT_REQUIRED_VERSION            = '2.0.0'
-LIBGNOME_REQUIRED_VERSION           = '2.0.0'
-LIBGNOMEUI_REQUIRED_VERSION         = '2.0.0'
-LIBGNOMECANVAS_REQUIRED_VERSION     = '2.0.0'
-LIBGNOMEVFS_REQUIRED_VERSION        = '2.0.0'
-LIBZVT_REQUIRED_VERSION             = '2.0.0'
-GCONF_REQUIRED_VERSION              = '1.2.0'
-BONOBO_ACTIVATION_REQUIRED_VERSION  = '1.0.0'
-LIBBONOBO_REQUIRED_VERSION          = '2.0.0'
-LIBBONOBOUI_REQUIRED_VERSION        = '2.0.0'
-LIBNAUTILUS_REQUIRED_VERSION        = '2.0.0'
-LIBPANELAPPLET_REQUIRED_VERSION     = '2.0.0'
-GTKHTML2_REQUIRED_VERSION           = '2.0.0'
-LIBGNOMEPRINT_REQUIRED_VERSION      = '2.2.0'
-LIBGNOMEPRINTUI_REQUIRED_VERSION    = '2.2.0'
-
-PYGTK_SUFFIX = '2.0'
-PYGTK_SUFFIX_LONG = 'gtk-' + PYGTK_SUFFIX
-
-GLOBAL_INC += ['gconf', 'gnome', 'gnomeprint']
-
-DEFS_DIR    = os.path.join('share', 'pygtk', PYGTK_SUFFIX, 'defs')
-CODEGEN_DIR = os.path.join('share', 'pygtk', PYGTK_SUFFIX, 'codegen')
-INCLUDE_DIR = os.path.join('include', 'pygtk-%s' % PYGTK_SUFFIX)
-
-str_version = sys.version[:3]
-version = map(int, str_version.split('.'))
-if version < [2, 2]:
-    raise SystemExit, \
-          "Python 2.2 or higher is required, %s found" % str_version
+datadir = '/usr/share'
+defsdir = datadir+'/pygtk/2.0/defs'
+includedir = '/usr/include'
+
+def gen_auto_file(filename, subproc_args):
+    proc = subprocess.Popen(
+        subproc_args,
+        stdout=subprocess.PIPE,
+        stderr=subprocess.PIPE
+    )
+    cmdresult = proc.stdout
+    error = proc.stderr
+#   Print disabled to avoid problems with scratchbox
+#   print >>sys.sdterr, error.read()
+    if cmdresult:
+        new_file = open(filename, 'w')
+        new_file.write(cmdresult.read())
+	new_file.close()
 
-install_vfsmethod = 0
-class GnomePythonInstallLib(InstallLib):
+class PyGconfBuild(build):
     def run(self):
-        self.add_template_option('VERSION', VERSION)
-        self.prepare()
+        """Create the temporary files used to compile the hildon module:
+        -gconf.c
+        -gconf-types.h.in
+        -gconf-types.c.in"""
+        # Generate enum/flags run-time information
+        GCONF_TYPE_FILES = [
+            includedir+'/gconf/2/gconf/gconf.h',
+    	]
+        
+        gen_auto_file('gconf/gconf-types.h.in', ['/bin/sh', './gen-enum-h']+GCONF_TYPE_FILES)
+        gen_auto_file('gconf/gconf-types.c.in', ['/bin/sh', './gen-enum-c']+GCONF_TYPE_FILES)
 
-        self.install_template('gnome-python-2.0.pc.in',
-                              os.path.join(self.libdir, 'pkgconfig'))
+        # Creation of ".c" files, using pygtk-codegen-2.0
+        override_filename = 'gconf/gconf.override'
+        defs_filename = 'gconf/gconf.defs'
+
+        parameter = [
+#            '--register', defsdir+'/gdk.defs',
+#            '--register', defsdir+'/gtk-types.defs',
+#            '--register', defsdir+'/gtk.defs',
+#            '--register', defsdir+'/gtk-base.defs',
+#            '--register', defsdir+'/pango-types.defs',
+#            '--register', 'defs/missing-types.defs',
+#            '--register', 'defs/hildon-grid-item.defs',
+            '--override', override_filename,
+            '--prefix', 'pygconf',
+	        defs_filename,
+	    ] 
+    	gen_auto_file('gconf/gconf.c', ['/bin/sh', 'pygtk-codegen-2.0']+parameter)
 
-        if install_vfsmethod:
-            self.install_vfsmethod()
-            
-        # Modify the base installation dir
-        install_dir = os.path.join(self.install_dir, PYGTK_SUFFIX_LONG)
-        self.set_install_dir(install_dir)
-                                          
-        InstallLib.run(self)
-        
-    def install_vfsmethod(self):
-        libdir = '/'.join(self.install_dir.split('/')[:-3])
-        module_dir = os.path.join(libdir, 'gnome-vfs-2.0', 'modules')
-        module_file = os.path.join(self.build_dir, 'libpythonmethod.so')
-        if (os.path.exists(module_file) and
-            not os.path.exists(os.path.join(self.build_dir, module_file))):
-            self.copy_file(module_file, module_dir)
+        build.run(self)
         
-if not pkgc_version_check('pygtk-2.0', 'PyGTK', PYGTK_REQUIRED_VERSION):
-    raise SystemExit, "Aborting"
-pygtkincludedir = getoutput('pkg-config --variable pygtkincludedir pygtk-2.0')
-codegendir = getoutput('pkg-config --variable codegendir pygtk-2.0')
-defsdir = getoutput('pkg-config --variable defsdir pygtk-2.0')
-
-GLOBAL_INC.append(pygtkincludedir)
-GTKDEFS = [os.path.join(defsdir, 'pango-types.defs'),
-           os.path.join(defsdir, 'gdk-types.defs'),
-           os.path.join(defsdir, 'gtk-types.defs')]
-BONOBODEFS = [os.path.join('bonobo', 'bonobo-types.defs'),
-              os.path.join('bonobo', 'bonoboui-types.defs')]
-CANVASDEFS = [os.path.join('gnome', 'canvas.defs')]
-sys.path.append(codegendir)
-try:
-    from override import Overrides
-except ImportError:
-    raise SystemExit, \
-'Could not find code generator in %s, do you have installed pygtk correctly?'
-
-have_pyorbit = pkgc_version_check('pyorbit-2', 'PyORBit.',
-                                 PYORBIT_REQUIRED_VERSION)
-if have_pyorbit:
-    includedir = getoutput('pkg-config --variable includedir pyorbit-2')
-    GLOBAL_INC.append(os.path.join(includedir, 'pyorbit-2')) 
-
-libgnome = TemplateExtension(name='gnome', pkc_name='libgnome-2.0',
-                             pkc_version=LIBGNOME_REQUIRED_VERSION,
-                             output='gnome._gnome',
-                             defs='gnome/gnome.defs',
-                             sources=['gnome/gnomemodule.c',
-                                      'gnome/gnome.c'],
-                             register=GTKDEFS+['gnome/gnome.defs'],
-                             override='gnome/gnome.override')
-
-libgnomeui = TemplateExtension(name='ui', pkc_name='libgnomeui-2.0',
-                               pkc_version=LIBGNOMEUI_REQUIRED_VERSION,
-                               output='gnome.ui',
-                               defs='gnome/ui.defs',
-                               sources=['gnome/uimodule.c',
-                                        'gnome/ui.c'],
-                               register=GTKDEFS+BONOBODEFS + \
-                                        ['gnome/gnome.defs',
-                                         'gnome/ui.defs'],
-                               override='gnome/ui.override')
-
-libgnomecanvas = TemplateExtension(name='canvas',
-                                   pkc_name='libgnomecanvas-2.0',
-                                   pkc_version=LIBGNOMECANVAS_REQUIRED_VERSION,
-                                   output='gnome.canvas',
-                                   defs='gnome/canvas.defs',
-                                   sources=['gnome/canvasmodule.c',
-                                            'gnome/canvas.c'],
-                                   register=['gnome/canvas.defs'],
-                                   override='gnome/canvas.override')
-
-libgnomevfs = PkgConfigExtension(name='gnome.vfs',
-                                 pkc_name='gnome-vfs-2.0',
-                                 pkc_version=LIBGNOMEVFS_REQUIRED_VERSION,
-                                 sources=['gnome/vfs-dir-handle.c',
-                                          'gnome/vfs-file-info.c',
-                                          'gnome/vfs-handle.c',
-                                          'gnome/vfsmodule.c',
-                                          'gnome/vfs-uri.c',
-                                          'gnome/vfs-context.c'])
-
-libzvt = TemplateExtension(name='zvt',
-                           pkc_name='libzvt-2.0',
-                           pkc_version=LIBZVT_REQUIRED_VERSION,
-                           output='gnome.zvt',
-                           defs='gnome/zvt.defs',
-                           sources=['gnome/zvtmodule.c',
-                                    'gnome/zvt.c'],
-                           register=['gnome/zvt.defs'],
-                           override='gnome/zvt.override')
-
-gconf = TemplateExtension(name='gconf',
-                          pkc_name='gconf-2.0',
-                          pkc_version=GCONF_REQUIRED_VERSION,
-                          output='gnome.gconf',
-                          defs='gconf/gconf.defs',
-                          sources=['gconf/gconfmodule.c',
-                                   'gconf/gconf-fixes.c',
-                                   'gconf/gconf.c'],
-                          register=['gconf/gconf.defs'],
-                          override='gconf/gconf.override')
-
-bonobo_activation = PkgConfigExtension(name='bonobo.activation',
-                           pkc_name='bonobo-activation-2.0',
-                           pkc_version=BONOBO_ACTIVATION_REQUIRED_VERSION,
-                           sources=['bonobo/activationmodule.c'])
-
-libbonobo = TemplateExtension(name='bonobo',
-                              pkc_name='libbonobo-2.0',
-                              pkc_version=LIBBONOBO_REQUIRED_VERSION,
-                              output='bonobo._bonobo',
-                              defs='bonobo/bonobo.defs',
-                              sources=['bonobo/bonobomodule.c',
-                                       'bonobo/bonobo-arg.c',
-                                       'bonobo/bonobo.c'],
-                              register=BONOBODEFS + \
-                                       ['bonobo/bonoboui.defs'],
-                              load_types='bonobo/bonobo-arg-types.py',
-                              override='bonobo/bonobo.override')
-
-libbonoboui = TemplateExtension(name='bonoboui',
-                                pkc_name='libbonoboui-2.0',
-                                pkc_version=LIBBONOBOUI_REQUIRED_VERSION,
-                                output='bonobo.ui',
-                                defs='bonobo/bonoboui.defs',
-                                sources=['bonobo/bonobouimodule.c',
-                                         'bonobo/bonoboui.c'],
-                                register=GTKDEFS + CANVASDEFS + \
-                                         BONOBODEFS + \
-                                         ['bonobo/bonoboui.defs'],
-                                load_types='bonobo/bonobo-arg-types.py',
-                                override='bonobo/bonoboui.override')
-
-libnautilus = TemplateExtension(name='nautilus',
-                                pkc_name='libnautilus',
-                                pkc_version=LIBNAUTILUS_REQUIRED_VERSION,
-                                output='gnome.nautilus',
-                                defs='gnome/nautilus.defs',
-                                sources=['gnome/nautilusmodule.c',
-                                         'gnome/nautilus.c'],
-                                register=['gnome/nautilus.defs'],
-                                override='gnome/nautilus.override')
-
-libpanelapplet = TemplateExtension(name='applet',
-                                pkc_name='libpanelapplet-2.0',
-                                pkc_version=LIBPANELAPPLET_REQUIRED_VERSION,
-                                output='gnome.applet',
-                                defs='gnome/applet.defs',
-                                sources=['gnome/appletmodule.c',
-                                         'gnome/applet.c'],
-                                register=['gnome/applet.defs'],
-                                override='gnome/applet.override')
-
-gtkhtml2 = TemplateExtension(name='gtkhtml2',
-                           pkc_name='libgtkhtml-2.0',
-                           pkc_version=GTKHTML2_REQUIRED_VERSION,
-                           output='gtkhtml2',
-                           defs='gtkhtml2/gtkhtml2.defs',
-                           sources=['gtkhtml2/gtkhtml2module.c',
-                                    'gtkhtml2/gtkhtml2.c'],
-                           register=['gtkhtml2/gtkhtml2.defs'],
-                           override='gtkhtml2/gtkhtml2.override')
-
-libgnomeprint = TemplateExtension(name='print',
-                           pkc_name='libgnomeprint-2.2',
-                           pkc_version=LIBGNOMEPRINT_REQUIRED_VERSION,
-                           output='gnomeprint._print',
-                           defs='gnomeprint/print.defs',
-                           sources=['gnomeprint/printmodule.c',
-                                    'gnomeprint/print.c'],
-                           register=GTKDEFS + ['gnomeprint/print.defs'],
-                           override='gnomeprint/print.override')
-
-libgnomeprintui = TemplateExtension(name='printui',
-                           pkc_name='libgnomeprintui-2.2',
-                           pkc_version=LIBGNOMEPRINTUI_REQUIRED_VERSION,
-                           output='gnomeprint.printui',
-                           defs='gnomeprint/printui.defs',
-                           sources=['gnomeprint/printuimodule.c',
-                                    'gnomeprint/printui.c'],
-                           register=GTKDEFS + CANVASDEFS + \
-                                    ['gnomeprint/print.defs',
-                                     'gnomeprint/printui.defs'],
-                           override='gnomeprint/printui.override')
-
-data_files = []
-ext_modules = []
-py_modules = []
-if libgnome.can_build() or libgnomecanvas.can_build():
-    py_modules.append('gnome.__init__')    
-if libgnome.can_build():
-    ext_modules.append(libgnome)
-    data_files.append((DEFS_DIR, ('gnome/gnome.defs',)))
-if have_pyorbit and libgnomeui.can_build():
-    ext_modules.append(libgnomeui)
-    data_files.append((DEFS_DIR, ('gnome/ui.defs',)))    
-if libgnomecanvas.can_build():
-    ext_modules.append(libgnomecanvas)
-    data_files.append((DEFS_DIR, ('gnome/canvas.defs',)))    
-if libgnomevfs.can_build():
-    #libdir = getoutput('pkg-config --variable=libdir gnome-vfs-module-2.0')
-    #pythondir = os.path.join(libdir, 'gnome-vfs-2.0', 'modules', 'python')
-    #GLOBAL_MACROS.append(('GNOME_VFS_PYTHON_DIR', '"%s"' % pythondir))
-    #libpythonmethod = PkgConfigExtension(name='libpythonmethod',
-    #                   pkc_name='gnome-vfs-module-2.0',
-    #                   pkc_version=LIBGNOMEVFS_REQUIRED_VERSION,
-    #                   sources=['gnome/gnome-vfs-python-method.c'])
-    #if libpythonmethod.can_build():
-    #    install_vfsmethod = 1
-    #    ext_modules.append(libpythonmethod)
-        
-    ext_modules.append(libgnomevfs)
-if libzvt.can_build():
-    ext_modules.append(libzvt)
-    data_files.append((DEFS_DIR, ('gnome/zvt.defs',)))
-if gconf.can_build():
-    ext_modules.append(gconf)
-    data_files.append((DEFS_DIR, ('gconf/gconf.defs',)))
-if have_pyorbit and bonobo_activation.can_build():
-    ext_modules.append(bonobo_activation)
-if have_pyorbit and libbonobo.can_build():
-    ext_modules.append(libbonobo)
-    data_files.append((DEFS_DIR, ('bonobo/bonobo.defs',
-                                  'bonobo/bonobo-types.defs')))
-if have_pyorbit and libbonoboui.can_build():
-    ext_modules.append(libbonoboui)
-    data_files.append((DEFS_DIR, ('bonobo/bonoboui.defs',
-                                  'bonobo/bonoboui-types.defs')))
-    if libnautilus.can_build():
-        ext_modules.append(libnautilus)
-        data_files.append((DEFS_DIR, ('gnome/nautilus.defs',)))
-if libpanelapplet.can_build():
-    ext_modules.append(libpanelapplet)
-    data_files.append((DEFS_DIR, ('gnome/applet.defs',)))
-if gtkhtml2.can_build():
-    ext_modules.append(gtkhtml2)
-    data_files.append((DEFS_DIR, ('gtkhtml2/gtkhtml2.defs',)))
-if libgnomeprint.can_build():
-    ext_modules.append(libgnomeprint)
-    data_files.append((DEFS_DIR, ('gnomeprint/print.defs',)))
-    py_modules.append('gnomeprint.__init__')
-if libgnomeprintui.can_build():
-    ext_modules.append(libgnomeprintui)
-    data_files.append((DEFS_DIR, ('gnomeprint/printui.defs',)))
-
-# Install bonobo/__init__.py
-if have_pyorbit and (bonobo_activation.can_build() or
-                     libbonobo.can_build() or
-                     libbonoboui.can_build()):
-    py_modules.append('bonobo.__init__')
-
-doclines = __doc__.split("\n")
-
-setup(name="gnome-python",
-      url='http://www.daa.com.au/~james/gnome/',
-      version=VERSION,
-      license='LGPL',
-      platforms=['yes'],
-      maintainer="James Henstridge",
-      maintainer_email="james@daa.com.au",
-      description = doclines[0],
-      long_description = "\n".join(doclines[2:]),
-      py_modules=py_modules,
-      ext_modules=ext_modules,
-      data_files=data_files,
-      cmdclass={'install_lib': GnomePythonInstallLib,
-                'build_ext': BuildExt })
+
+compile_args = [
+        '-Os',
+        '-DXTHREADS',
+        '-DXUSE_MTSAFE_API',
+#        '-DGCONF_DISABLE_DEPRECATED',
+#        '-ansi',
+#        '-pedantic',
+#        '-Wno-long-long',
+#        '-g',
+#        '-rdynamic',
+]
+
+gconf = Extension('gconf',
+    sources=['gconf/gconf.c',
+             'gconf/gconfmodule.c',
+             'gconf/gconf-fixes.c',
+             'gconf/gconf-types.c'],
+    libraries = ['gconf-2',
+                 'glib-2.0'],
+    include_dirs=['/usr/include',
+                  '/usr/include/gconf/2',
+                  '/usr/include/glib-2.0',
+                  '/usr/lib/glib-2.0/include',
+                  '/usr/include/pygtk-2.0'],
+    extra_compile_args=compile_args,
+)
+
+#vfs = Extension('vfs',
+#    sources=['gnomevfs/vfs-dir-handle.c',
+#             'gnomevfs/vfs-file-info.c',
+#             'gnomevfs/vfs-handle.c',
+#             'gnomevfs/vfsmodule.c',
+#             'gnomevfs/vfs-uri.c',
+#             'gnomevfs/vfs-context.c'],
+#    libraries = ['gconf-2',
+#                 'glib-2.0'],
+#    include_dirs=['/usr/include',
+#                  '/usr/include/gconf/2',
+#                  '/usr/include/glib-2.0',
+#                  '/usr/lib/glib-2.0/include',
+#                  '/usr/include/pygtk-2.0'],
+#    extra_compile_args=compile_args,
+#)
+
+setup(
+    name = 'gnome',
+    version = '0.1',
+    description = 'Python bindings for gconf.',
+    author = 'Luciano Miguel Wolf',
+    author_email = 'luciano.wolf@indt.org.br',
+    url = 'http://www.maemo.org',
+    ext_package = 'gnome',
+    ext_modules = [gconf],
+    cmdclass={'build': PyGconfBuild}
+)
+
+# vim:ts=4:sw=4:et:sm:ai
